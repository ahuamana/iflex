---
/**
 * ImageComparison Component
 * Displays an interactive slider-based comparison of good and poor posture
 */
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="image-comparison">
  <div class="comparison-container">
    <img 
      src="https://spinehealth.org/wp-content/uploads/2023/01/bad-posture.jpg" 
      alt="Person with back pain" 
      class="image before" 
      loading="lazy"
      onerror="this.onerror=null; this.src='https://via.placeholder.com/1200x800?text=Back+Pain+Image'"
    />
    <img 
      src="https://www.kensington.com/siteassets/blog/2021/04-april/woman-using-kensington-ergonomic-solutions-in-home-office.jpg?width=1200&height=627" 
      alt="Person with good posture" 
      class="image after" 
      loading="lazy"
      onerror="this.onerror=null; this.src='https://via.placeholder.com/1200x800?text=Good+Posture+Image'"
    />
    <div class="slider">
      <div class="slider-button">
        <svg width="30" height="30" viewBox="0 0 30 30">
          <path d="M10 7.5l5-5 5 5M10 22.5l5 5 5-5" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </div>
    <div class="labels">
      <div class="label before">{t('problem.imageComparison.poorPosture')}</div>
      <div class="label after">{t('problem.imageComparison.goodPosture')}</div>
    </div>
  </div>
</div>

<script src="../scripts/imageComparison.js"></script>

<link rel="stylesheet" href="../styles/components/image-comparison.css" />
---
/**
 * Features Component
 * Displays a timeline of how IFLEX works with step-by-step visualization
 * Includes AI analysis, personalized recommendations, and real-time feedback sections
 * Uses modern design with glass-morphism effects and smooth animations
 */
import Section from './Section.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Section
  title={t('features.title')}
  id="features"
>
  <div class="timeline">
    <div class="timeline-step">
      <div class="step-number">1</div>
      <div class="feature glass-card">
        <div class="feature-icon">
          <img 
            src="https://images.unsplash.com/photo-1589254065878-42c9da997008?auto=format&fit=crop&q=80&w=200" 
            alt={t('features.aiAnalysis.title')} 
            loading="lazy"
            onerror="this.onerror=null; this.src='https://via.placeholder.com/200x200?text=AI+Analysis'"
          />
        </div>
        <h3>{t('features.aiAnalysis.title')}</h3>
        <p>{t('features.aiAnalysis.description')}</p>
      </div>
    </div>

    <div class="timeline-step">
      <div class="step-number">2</div>
      <div class="feature glass-card">
        <div class="feature-icon">
          <img 
            src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&q=80&w=200" 
            alt={t('features.recommendations.title')} 
            loading="lazy"
            onerror="this.onerror=null; this.src='https://via.placeholder.com/200x200?text=Recommendations'"
          />
        </div>
        <h3>{t('features.recommendations.title')}</h3>
        <p>{t('features.recommendations.description')}</p>
      </div>
    </div>

    <div class="timeline-step">
      <div class="step-number">3</div>
      <div class="feature glass-card">
        <div class="feature-icon">
          <img 
            src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=200" 
            alt={t('features.feedback.title')} 
            loading="lazy"
            onerror="this.onerror=null; this.src='https://via.placeholder.com/200x200?text=Feedback'"
          />
        </div>
        <h3>{t('features.feedback.title')}</h3>
        <p>{t('features.feedback.description')}</p>
      </div>
    </div>
  </div>
</Section>

<link rel="stylesheet" href="../styles/components/features.css" />
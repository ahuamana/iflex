---
/**
 * Solution Component
 * Displays the AI-powered solution for posture analysis
 * Includes responsive image handling and consistent styling
 * Uses multilingual support for global accessibility
 */
import Section from './Section.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Section
  title={t('solution.title')}
  description={t('solution.description')}
  id="solution">
  <div class="solution-timeline">
    <div class="timeline-line"></div>
    
    <div class="timeline-step animate-in left">
      <div class="step-content">
        <div class="solution-card glass-card">
          <div class="step-number">1</div>
          <div class="solution-icon">
            <img 
              src="https://images.unsplash.com/photo-1633613286991-611fe299c4be?auto=format&fit=crop&q=80&w=400" 
              alt={t('solution.realtime.title')} 
              loading="lazy"
              onerror="this.onerror=null; this.src='https://via.placeholder.com/400x300?text=Realtime+Analysis'"
            />
          </div>
          <h3>{t('solution.realtime.title')}</h3>
          <p>{t('solution.realtime.description')}</p>
        </div>
      </div>
    </div>

    <div class="timeline-step animate-in right">
      <div class="step-content">
        <div class="solution-card glass-card">
          <div class="step-number">2</div>
          <div class="solution-icon">
            <img 
              src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=400" 
              alt={t('solution.feedback.title')} 
              loading="lazy"
              onerror="this.onerror=null; this.src='https://via.placeholder.com/400x300?text=Smart+Feedback'"
            />
          </div>
          <h3>{t('solution.feedback.title')}</h3>
          <p>{t('solution.feedback.description')}</p>
        </div>
      </div>
    </div>

    <div class="timeline-step animate-in left">
      <div class="step-content">
        <div class="solution-card glass-card">
          <div class="step-number">3</div>
          <div class="solution-icon">
            <img 
              src="https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80&w=400" 
              alt={t('solution.improvement.title')} 
              loading="lazy"
              onerror="this.onerror=null; this.src='https://via.placeholder.com/400x300?text=Track+Progress'"
            />
          </div>
          <h3>{t('solution.improvement.title')}</h3>
          <p>{t('solution.improvement.description')}</p>
        </div>
      </div>
    </div>
  </div>
</Section>

<link rel="stylesheet" href="../styles/components/solution.css" />